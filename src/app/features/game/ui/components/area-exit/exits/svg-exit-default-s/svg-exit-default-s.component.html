<svg viewBox="0 0 100 100" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"
  xmlns:svg="http://www.w3.org/2000/svg" class="exit-default-root {{isLevelExit ? 'level-exit-svg' : ''}}">
  <g id="exit-default-south" transform="matrix(-1,0,0,1,49.999667,25.008539)">
    <path class="arch-bg"
      d="M 31.638514,5.0459573 C 39.285882,4.8815026 46.1167,9.416926 46.1167,15.782253 v 36.15955 l -7.175273,3.587378 V 21.058417 c 0,-7.48862 -5.090095,-9.726219 -13.941268,-5.470984 -8.851173,4.255234 -13.941784,11.098992 -13.941784,19.412768 V 69.470965 L 3.8831021,73.058343 V 33.311415 c 0,-9.804509 10.0273959,-21.605246 20.0587239,-26.4278438 2.507832,-1.20565 5.147565,-1.7827957 7.696688,-1.8376139 z" />
    <path class="arch-stones"
      d="m 33.03571,7.0641683 c -2.183407,-0.020424 -4.568907,0.4473153 -7.035747,1.486731 v 5.0089967 c 2.260195,-0.97311 4.33139,-1.486312 6.141744,-1.551327 l 2.029851,-4.8829058 c -0.37269,-0.033512 -0.749875,-0.057884 -1.135848,-0.061495 z m 3.161047,0.3984253 -1.945618,4.6808514 c 1.614088,0.290571 2.935089,1.014091 3.903638,2.121317 L 41.29412,10.354924 C 39.972422,8.9764383 38.230067,7.9772163 36.196757,7.4625936 Z M 24.000085,9.5141479 C 20.48969,11.328319 17.147892,13.719112 14.314889,16.495634 l 2.582788,3.290755 c 2.028791,-2.056269 4.42791,-3.852102 7.102408,-5.266862 z m 18.549256,2.4716841 -3.276286,4.079854 c 0.472557,1.107773 0.727087,2.422791 0.727087,3.934127 v 0.382405 l 3.999756,-1.999361 v -1.012858 c 0,-2.04113 -0.52305,-3.860424 -1.450557,-5.384167 z m -29.638501,5.96191 c -1.818337,1.990712 -3.3736816,4.138676 -4.5408083,6.384106 l 4.0235273,1.530656 c 0.845614,-1.604988 1.905068,-3.141785 3.132108,-4.583699 z m 31.089058,2.669087 -3.999756,1.999878 v 9.765813 l 3.999756,-1.999878 z m -36.47891,5.531446 c -0.9730725,2.333083 -1.5208374,4.744489 -1.5208374,7.163387 v 4.070036 L 9.9999064,35.38182 v -0.381889 c 0,-2.467999 0.5536386,-4.943617 1.5471926,-7.319967 z m 36.47891,6.468856 -3.999756,1.999877 v 9.764779 l 3.999756,-1.999878 z M 9.9999064,37.617342 6.0001506,39.61722 v 9.764779 l 3.9997558,-1.999878 z m 33.9999916,7.001123 -3.999756,1.999878 v 8.381401 l 3.999756,-1.999878 z M 40.000142,54.999744 9.9999064,69.999862 v -8.381401 l -3.9997558,1.999878 v 8.381917 z M 9.9999064,49.619194 6.0001506,51.619071 v 9.762712 l 3.9997558,-1.999878 z" />
  </g>
  <!-- LOCK -->
  @if(lock !=='') {
  <g transform="matrix(-1,0,0,1,99.999448,-3.4e-5)">
    <path attr.fill="var(--color-lock-{{ lock }})"
      d="m 74.99994,40.596006 c -8.851182,4.255239 -13.941667,11.098715 -13.941667,19.4125 V 94.479339 L 88.941607,80.537673 V 46.06684 c 0,-7.488627 -5.090485,-9.726073 -13.941667,-5.470834 z" />
    <path style="
        opacity: 1;
        fill: #1a1a1a;
        stroke-width: 0;
        stroke-linecap: round;
        stroke-linejoin: round;
        paint-order: stroke fill markers;
      "
      d="m 76.2218,62.613703 a 3.1514382,4.7350988 37.533183 0 0 -3.81682,5.490818 3.1514382,4.7350988 37.533183 0 0 2.46703,2.624411 v 5.906616 l 2.69958,-1.118202 V 69.61073 a 3.1514382,4.7350988 37.533183 0 0 2.46703,-4.668167 3.1514382,4.7350988 37.533183 0 0 -3.81682,-2.32886 z" />
  </g>
  }

  @if (isLevelExit) {
  <mask id="level-exit-spiral-mask" mask-type="luminance">
    <!-- Everything under a white pixel will be visible -->
    <path fill="white"
      d="M 25,15.5875 C 16.148818,19.842739 11.058333,26.686215 11.058333,35 V 69.470833 L 38.941667,55.529167 V 21.058334 C 38.941667,13.569707 33.851182,11.332261 25,15.5875 Z" />
  </mask>
  <g mask="url(#level-exit-spiral-mask)" transform="matrix(-1,0,0,1,49.999667,25.008539)">
    <g class="opacity-50" style="transform:skew(0deg, -20deg); transform-origin:24% 39%;">
      <g style="transform-origin:24% 39%; animation: spin 8s linear infinite;">
        <circle class="exit-swirl-exterior" cx="26.42" cy="42.713001" r="30" />
        <path class="exit-swirl-interior"
          d="m 47.578944,63.872189 c 0,0 -20.738884,-5.738888 -21.158913,-21.158923 -11.579979,11.420035 -1e-6,29.999735 -1e-6,29.999735 7.945419,-0.0287 15.554974,-3.208184 21.158914,-8.840812 z m -2e-6,-42.317846 c 0,0 -5.738889,20.738884 -21.158925,21.158912 11.420036,11.579978 29.999738,1e-6 29.999738,1e-6 -0.0287,-7.945418 -3.208185,-15.554973 -8.840813,-21.158913 z m -42.3178559,-5.3e-4 c 0,0 20.7388849,5.738888 21.1589139,21.158924 11.579979,-11.420036 0,-29.999736 0,-29.999736 -7.945418,0.0287 -15.554974,3.208184 -21.1589139,8.840812 z m -5.21e-4,42.318376 c 0,0 5.7388929,-20.738903 21.1589309,-21.158933 -11.420035,-11.579977 -29.9997411,0 -29.9997411,0 0.0287,7.945436 3.20818528,15.55498 8.8408102,21.158933 z" />
      </g>
    </g>
  </g>
  }

  <g transform="matrix(-1,0,0,1,49.999667,25.008539)">
    <path class="exit-button {{ isEditorSelected ? 'selected' : '' }} {{
        isClickable ? 'clickable' : ''
      }}" [tabIndex]="isClickable ? 0 : -1" role="button" (click)="handleClick()" aria-label="exit"
      d="M 31.638379 5.0462036 C 29.089258 5.1010218 26.449521 5.6781688 23.941691 6.8838175 C 13.910373 11.706411 3.8829671 23.507163 3.8829671 33.311662 L 3.8829671 73.05859 L 11.05824 69.471212 L 11.05824 69.470695 L 38.941292 55.529427 L 38.941809 55.52891 L 46.116565 51.942049 L 46.116565 15.782499 C 46.116565 9.4171786 39.285739 4.8817491 31.638379 5.0462036 z " />
  </g>
</svg>