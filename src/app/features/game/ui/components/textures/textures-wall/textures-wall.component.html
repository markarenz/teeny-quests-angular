<svg
  [attr.viewBox]="svgViewBox"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:svg="http://www.w3.org/2000/svg"
  style="position: absolute; bottom: 0; left: 0; width: 100%"
  [attr.class]="wallType + ' wall-position-' + wallPosition"
>
  <defs>
    @if(wallType === 'test') {
    <!-- OTHER TEXTURES -->
    } @else {
    <pattern
      [id]="
        'texture_' +
        positionKey +
        '_' +
        wallPosition +
        '_' +
        (isFlat ? 'flat' : 'wall')
      "
      x="0"
      y="0"
      width="1"
      height="1"
    >
      <rect x="0" y="0" width="100" height="325" class="bgRect" />
      @for(i of halfUnits; track i; let idx = $index) {
      <line
        x1="0"
        [attr.y1]="wallPosition === 'l' ? i : i + 50"
        x2="100"
        [attr.y2]="wallPosition === 'l' ? i + 50 : i"
        class="brick"
      />

      @if((h + idx) % 2 === 0) {
      <!-- EVEN -->
      <line
        [attr.x1]="0"
        [attr.y1]="wallPosition === 'l' ? i : i - 12.5"
        [attr.x2]="0"
        [attr.y2]="wallPosition === 'l' ? i - 12.5 : i"
        class="brick"
      />
      <line
        [attr.x1]="50"
        [attr.y1]="wallPosition === 'l' ? i + 12.5 : i + 25"
        [attr.x2]="50"
        [attr.y2]="wallPosition === 'l' ? i + 25 : i + 12.5"
        class="brick"
      />
      } @else {
      <!-- ODD -->
      <line
        [attr.x1]="25"
        [attr.y1]="wallPosition === 'l' ? i : i + 12.5"
        [attr.x2]="25"
        [attr.y2]="wallPosition === 'l' ? i + 12.5 : i"
        class="brick"
      />

      } }
    </pattern>
    }
  </defs>

  @if(wallPosition === 'l') {
  <polygon [attr.points]="svgPolygonPoints[0]" [attr.fill]="wallTexture" />
  } @if(wallPosition === 'r') {
  <polygon [attr.points]="svgPolygonPoints[1]" [attr.fill]="wallTexture" />
  }
</svg>
